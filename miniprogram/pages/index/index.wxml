<!-- 首页轮播图 -->
<view class="swiper-container">
  <swiper class="swiper" 
    indicator-dots="{{true}}" 
    autoplay="{{true}}" 
    interval="{{3000}}" 
    duration="{{500}}"
    circular="{{true}}"
    indicator-color="rgba(255, 255, 255, 0.6)"
    indicator-active-color="#ffffff">
    <swiper-item wx:for="{{swiperList}}" wx:key="id">
      <view class="image-container image-position-{{item.id}}">
        <image 
          src="{{item.imageUrl}}" 
          mode="aspectFill" 
          class="swiper-image"
          lazy-load="true">
        </image>
      </view>
      <view class="swiper-title">{{item.title}}</view>
    </swiper-item>
  </swiper>
</view>

<!-- 导航栏 -->
<view class="nav-container">
  <view class="nav-row">
    <!-- 第一行导航 -->
    <navigator url="/pages/schedule/schedule" open-type="switchTab" class="nav-item">
      <view class="nav-icon-wrapper">
        <image class="nav-icon" src="/assert/icon/schedule_selected.png"></image>
      </view>
      <text class="nav-text">日程</text>
    </navigator>
    <navigator url="/pages/record/record" open-type="switchTab" class="nav-item">
      <view class="nav-icon-wrapper">
        <image class="nav-icon" src="/assert/icon/record_selected.png"></image>
      </view>
      <text class="nav-text">瞬间</text>
    </navigator>
    <view class="nav-item" bindtap="showDeveloping">
      <view class="nav-icon-wrapper">
        <image class="nav-icon" src="/assert/icon/growth_selected.png"></image>
      </view>
      <text class="nav-text">成长数据</text>
    </view>
    <view class="nav-item" bindtap="showDeveloping">
      <view class="nav-icon-wrapper">
        <image class="nav-icon" src="/assert/icon/study_selected.png"></image>
      </view>
      <text class="nav-text">学习</text>
    </view>
  </view>
  
  <view class="nav-row">
    <!-- 第二行导航 -->
    <view class="nav-item" bindtap="showDeveloping">
      <view class="nav-icon-wrapper">
        <image class="nav-icon" src="/assert/icon/memo_selected.png"></image>
      </view>
      <text class="nav-text">备忘录</text>
    </view>
    <view class="nav-item" bindtap="showDeveloping">
      <view class="nav-icon-wrapper">
        <image class="nav-icon" src="/assert/icon/education_selected.png"></image>
      </view>
      <text class="nav-text">教育</text>
    </view>
    <view class="nav-item" bindtap="showDeveloping">
      <view class="nav-icon-wrapper">
        <image class="nav-icon" src="/assert/icon/finance_selected.png"></image>
      </view>
      <text class="nav-text">金融</text>
    </view>
    <view class="nav-item" bindtap="showDeveloping">
      <view class="nav-icon-wrapper">
        <image class="nav-icon" src="/assert/icon/tools_selected.png"></image>
      </view>
      <text class="nav-text">工具</text>
    </view>
  </view>
</view>

<!-- 近期行程提醒 -->
<view class="upcoming-schedule-container" wx:if="{{upcomingSchedules.length > 0}}">
  <view class="upcoming-header">
    <text class="upcoming-title">近期行程提醒</text>
    <navigator url="/pages/schedule/schedule" open-type="switchTab" class="view-more">查看更多</navigator>
  </view>
  <view class="upcoming-list">
    <view class="upcoming-item" wx:for="{{upcomingSchedules}}" wx:key="id">
      <view class="upcoming-date">
        <text class="date-day">{{item.day}}</text>
        <text class="date-month">{{item.month}}月</text>
      </view>
      <view class="upcoming-content">
        <view class="upcoming-title">{{item.title}}</view>
        <view class="upcoming-time">{{item.time}}</view>
      </view>
      <view class="upcoming-status {{item.isToday ? 'today' : ''}}">
        {{item.isToday ? '今日' : '即将到来'}}
      </view>
    </view>
  </view>
</view>

<!-- AI对话助手 - 扁平简约风格 -->
<view class="chat-container-flat">
  <view class="chat-header">
    <text class="chat-title">团宝儿的AI助手</text>
  </view>
  
  <scroll-view class="messages-area" scroll-y="true" scroll-with-animation="true" id="chat-container">
    <!-- 欢迎消息 -->
    <view class="welcome-container" wx:if="{{chatMessages.length === 0}}">
      <image class="chat-avatar" src="{{botInfo.avatarUrl}}" mode="aspectFill"></image>
      <view class="welcome-message">
        <text>我是团宝儿的小助手，有什么我可以帮您的吗？</text>
      </view>
    </view>
    
    <!-- 消息列表 -->
    <view wx:for="{{chatMessages}}" wx:key="time" class="message-item {{item.type === 'user' ? 'user-message' : 'bot-message'}}">
      <image class="chat-avatar" src="{{item.type === 'user' ? userInfo.avatarUrl : botInfo.avatarUrl}}" mode="aspectFill"></image>
      <view class="message-content {{item.isError ? 'error' : ''}}">
        <text>{{item.content}}</text>
      </view>
    </view>
    
    <!-- 加载状态 -->
    <view class="loading-container" wx:if="{{isLoading}}">
      <image class="chat-avatar" src="{{botInfo.avatarUrl}}" mode="aspectFill"></image>
      <view class="loading-dots">
        <view class="dot"></view>
        <view class="dot"></view>
        <view class="dot"></view>
      </view>
    </view>
  </scroll-view>
  
  <view class="input-area">
    <input class="message-input" 
           placeholder="发送消息..." 
           value="{{inputMessage}}" 
           bindinput="handleInputChange"
           confirm-type="send"
           bindconfirm="sendMessage"
           disabled="{{isLoading}}"/>
    <view class="send-btn {{inputMessage.trim() === '' || isLoading ? 'disabled' : ''}}" 
          bindtap="sendMessage">
      <text>发送</text>
    </view>
  </view>
</view>

